webpackJsonp([1],{21:function(t,e,n){"use strict";var s=n(42);e.a={name:"app",components:{Game:s.a}}},22:function(t,e,n){"use strict";var s=n(43),i=n.n(s),r=n(54),o=n(79),a=n(80);e.a={name:"game",components:{Dice:a.a},data:function(){return{willRoll:!1,bonusRequire:63,bonusSize:35,playerTurn:0,playersCount:2,maxPlayersCount:4,rollsLeft:3,rolled:!1,rollButtonMessage:"Player 1 turn",dice:Object(r.b)(),combinations:r.a,scores:Object(r.c)(),adjustments:!1,showSettings:!1,resetted:!0}},persist:["scores","playerTurn","rollsLeft","rolled","dice","rollButtonMessage","adjustments","playersCount","resetted"],methods:{calcCell:function(t,e){return this.rolled&&this.playerTurn===t&&void 0===this.scores[t][e.id]?e.calc(this.dice):void 0},adsRoll:function(t){this.resetted=!1,t.clientX-t.target.getClientRects()[0].x<8&&this.adjustments?this.roll(!0):this.roll(!1)},roll:function(t){var e=this;if(this.resetted=!1,0!==this.rollsLeft){if(this.rolled=!0,this.willRoll=!0,setTimeout(function(){e.willRoll=!1},500),t){for(var n=this.combinations.filter(function(t){return void 0===e.scores[e.playerTurn][t.id]&&13!==t.id}),s=Array(this.dice.length),r=[],a=0;a<this.dice.length;a++)s[a]=i()({},this.dice[a]);for(var l=0;l<100;l++){var c=s.map(function(t){return i()({},t)}).slice();for(a=0;a<c.length;a++)c[a].used||(c[a].type=Object(o.a)(1,6));r.push(c)}var u={dice:null,val:-1,comb:null};for(l=0;l<n.length;l++){var d=n[l];for(a=0;a<r.length;a++)d.calc(r[a])>u.val&&(u.dice=r[a],u.val=d.calc(r[a]),u.comb=d)}for(a=0;a<this.dice.length;a++){var h=this.dice[a];h.used||(h.type=u.dice[a].type)}}else for(a=0;a<this.dice.length;a++)h=this.dice[a],h.used||(h.type=Object(o.a)(1,6));var f=--this.rollsLeft;this.rollButtonMessage=1===f?"1 throw left":f+" throws left",0===this.rollsLeft&&(this.rollButtonMessage="No throws left")}},setScore:function(t,e){if(this.rolled&&t===this.playerTurn&&!this.scores[t].hasOwnProperty(e)){var n=this.combinations.find(function(t){return t.id===e}),s=n.calc(this.dice);this.$set(this.scores[t],e,s),this.rolled=!1,this.playerTurn=(this.playerTurn+1)%this.playersCount,this.rollButtonMessage="Player "+(this.playerTurn+1)+" turn",this.dice=Object(r.b)(),this.rollsLeft=3,this.winner()}},partSum:function(t){for(var e=0,n=0;n<this.combinations.length;n++)0===this.combinations[n].group&&(e+=t[this.combinations[n].id]||0);return e},finalSum:function(t){var e=0;this.partSum(t)>=this.bonusRequire&&(e+=this.bonusSize);for(var n=0;n<this.combinations.length;n++)e+=t[this.combinations[n].id]||0;return e},reset:function(){this.willRoll=!1,this.playerTurn=0,this.rollsLeft=3,this.resetted=!0,this.rolled=!1,this.rollButtonMessage="Player 1 turn",this.dice=Object(r.b)(),this.scores=Object(r.c)()},confirmReset:function(){confirm("Are you sure you want to reset the game?")&&this.reset()},settings:function(){this.showSettings=!this.showSettings},askForReset:function(){if(!this.resetted){if(!confirm("You have to reset score before change. Reset & continue?"))return!1;this.reset()}return!0},incPlayersCount:function(){this.askForReset()&&(this.playersCount=this.playersCount===this.maxPlayersCount?2:this.playersCount+1)},winner:function(){for(var t=this,e=!0,n=0;n<this.combinations.length;n++)for(var s=0;s<this.playersCount;s++)void 0===this.scores[s][this.combinations[n].id]&&(e=!1);if(e){var i=this.scores.map(function(e){return t.finalSum(e)}),r=0,o=0;for(n=0;n<this.playersCount;n++)i[n]>r&&(r=i[n],o=n);alert("Player "+(o+1)+" won with a score of "+r+"!"),this.reset()}}}}},33:function(t,e,n){"use strict";e.a={name:"dice",props:["dice","willRoll"]}},34:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(35),i=(n.n(s),n(37)),r=n(41),o=n(84),a=n.n(o),l=n(85);i.a.use(l,{duration:1e3}),i.a.use(a.a),i.a.config.productionTip=!1,new i.a({el:"#app",template:"<App/>",components:{App:r.a}})},35:function(t,e){},41:function(t,e,n){"use strict";var s=n(21),i=n(83),r=n(10),o=r(s.a,i.a,!1,null,null,null);e.a=o.exports},42:function(t,e,n){"use strict";var s=n(22),i=n(82),r=n(10),o=r(s.a,i.a,!1,null,null,null);e.a=o.exports},54:function(t,e,n){"use strict";function s(){return[{used:!1,type:0,id:0},{used:!1,type:0,id:1},{used:!1,type:0,id:2},{used:!1,type:0,id:3},{used:!1,type:0,id:4}]}function i(){return[{},{},{},{},{},{},{},{},{}]}function r(t,e){for(var n=0,s=0;s<t.length;s++)t[s].type===e&&(n+=t[s].type);return n}function o(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].type;return e}function a(t){for(var e={1:0,2:0,3:0,4:0,5:0,6:0},n=0;n<t.length;n++)e[t[n].type]+=1;return e}function l(t,e){if(t instanceof Array&&e instanceof Array){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!l(t[n],e[n]))return!1;return!0}return t===e}e.b=s,e.c=i,n.d(e,"a",function(){return f});var c=n(55),u=n.n(c),d=n(75),h=n.n(d),f=[{group:0,id:1,name:"Ones",calc:function(t){return r(t,1)}},{group:0,id:2,name:"Twos",calc:function(t){return r(t,2)}},{group:0,id:3,name:"Threes",calc:function(t){return r(t,3)}},{group:0,id:4,name:"Fours",calc:function(t){return r(t,4)}},{group:0,id:5,name:"Fives",calc:function(t){return r(t,5)}},{group:0,id:6,name:"Sixes",calc:function(t){return r(t,6)}},{group:1,id:7,name:"x3",calc:function(t){var e=h()(a(t));return Math.max.apply(Math,u()(e))>=3?o(t):0}},{group:1,id:8,name:"x4",calc:function(t){var e=h()(a(t));return Math.max.apply(Math,u()(e))>=4?o(t):0}},{group:1,id:9,name:"Full House",calc:function(t){var e=h()(a(t)).filter(Number);return l(e,[2,3])||l(e,[3,2])?25:0}},{group:1,id:10,name:"Small straight",calc:function(t){for(var e=[{1:1,2:1,3:1,4:1},{5:1,2:1,3:1,4:1},{6:1,5:1,3:1,4:1}],n=a(t),s=!0,i=0;i<e.length;i++){for(var r in e[i])n[r]<e[i][r]&&(s=!1);if(s)return 30;s=!0}return 0}},{group:1,id:11,name:"Large straight",calc:function(t){for(var e=[{1:1,2:1,3:1,4:1,5:1},{5:1,2:1,3:1,4:1,6:1}],n=a(t),s=!0,i=0;i<e.length;i++){for(var r in e[i])n[r]<e[i][r]&&(s=!1);if(s)return 40;s=!0}return 0}},{group:1,id:12,name:"Yahtzee",calc:function(t){var e=h()(a(t));return Math.max.apply(Math,u()(e))>=5?50:0}},{group:1,id:13,name:"Chance",calc:o}]},79:function(t,e,n){"use strict";function s(t,e){var n=new Uint8Array(1);window.crypto.getRandomValues(n);var i=e-t+1;return n[0]>=Math.floor(256/i)*i?s(t,e):t+n[0]%i}e.a=s},80:function(t,e,n){"use strict";var s=n(33),i=n(81),r=n(10),o=r(s.a,i.a,!1,null,null,null);e.a=o.exports},81:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dice-panel"},t._l(t.dice,function(e){return n("div",{key:e.id,staticClass:"dice-element",class:[{used:e.used,"spin-animation":!e.used&&t.willRoll},"diceN"+e.type,"diceN"],on:{click:function(t){0!=e.type&&(e.used=!e.used)}}})}))},i=[],r={render:s,staticRenderFns:i};e.a=r},82:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("h1",{staticClass:"header"},[t._v("Yahtzee")]),t._v(" "),n("div",{staticClass:"wrapper card"},[n("div",{staticClass:"scores block"},[n("table",{staticClass:"scores-table"},[n("colgroup",[n("col",{staticStyle:{width:"20%"}}),t._v(" "),t._l(t.playersCount,function(e){return n("col",{style:{width:30/t.playersCount+"%"}})}),t._v(" "),n("col",{staticStyle:{width:"20%"}}),t._v(" "),t._l(t.playersCount,function(e){return n("col",{style:{width:30/t.playersCount+"%"}})})],2),t._v(" "),n("thead",[n("tr",[n("th",[t._v("Co")]),t._v(" "),t._l(t.playersCount,function(e){return n("th",[t._v("\n              "+t._s(e)+"\n            ")])}),t._v(" "),n("th",[t._v("Co")]),t._v(" "),t._l(t.playersCount,function(e){return n("th",[t._v("\n              "+t._s(e)+"\n            ")])})],2)]),t._v(" "),n("tbody",[t._l(t.combinations.slice(0,12).map(function(t,e,n){return e<n.length/2?[t,n[e+n.length/2]]:""}).slice(0,t.combinations.length/2),function(e){return n("tr",{key:e[0].id},[t._l(e,function(e){return[n("td",[t._v(t._s(e.name))]),t._v(" "),t._l(t.playersCount,function(s,i){return n("td",{key:i+"_"+e.id,class:{setscore:void 0!==t.scores[i][e.id],scorecell:!(!t.rolled||t.playerTurn!==i||void 0!==t.scores[i][e.id])},on:{click:function(n){t.setScore(i,e.id)}}},[t._v("\n                  "+t._s(t.calcCell(i,e))+"\n                  "+t._s(t.scores[i][e.id])+" \n              ")])})]})],2)}),t._v(" "),n("tr",[n("td",[t._v("Bonus")]),t._v(" "),t._l(t.playersCount,function(e,s){return n("td",{staticClass:"bonuscell",class:{setscore:t.partSum(t.scores[s])>=t.bonusRequire}},[t._v(t._s(t.partSum(t.scores[s]))+"/"+t._s(t.bonusRequire))])}),t._v(" "),n("td",[t._v(t._s(t.combinations[12].name))]),t._v(" "),t._l(t.playersCount,function(e,s){return n("td",{key:s+"_"+t.combinations[12].id,class:{setscore:void 0!==t.scores[s][t.combinations[12].id],scorecell:!(!t.rolled||t.playerTurn!==s||void 0!==t.scores[s][t.combinations[12].id])},on:{click:function(e){t.setScore(s,t.combinations[12].id)}}},[t._v("\n                "+t._s(t.calcCell(s,t.combinations[12]))+"\n                "+t._s(t.scores[s][t.combinations[12].id])+" \n            ")])})],2),t._v(" "),n("tr",[t._l(t.playersCount-2,function(t){return n("td")}),t._v(" "),n("td"),n("td"),n("td"),t._v(" "),n("td",[t._v("Total")]),t._v(" "),t._l(t.playersCount,function(e){return n("td",[t._v("\n              "+t._s(t.finalSum(t.scores[e-1]))+"\n            ")])})],2)],2)])]),t._v(" "),n("div",{staticClass:"dice block"},[t._v("\n      Dice\n      "),n("Dice",{attrs:{dice:t.dice,willRoll:t.willRoll}})],1),t._v(" "),n("div",{staticClass:"buttons block"},[n("div",{staticClass:"settings-icon",class:{on:t.showSettings},attrs:{ssrc:"https://png.icons8.com/metro/1600/settings.png"},on:{click:t.settings}}),t._v(" "),n("button",{staticClass:"button",class:{unclickable:0===t.rollsLeft,red:0===t.rollsLeft,blue:t.rollsLeft>0},attrs:{type:"button",id:"roll-dice"},on:{mousedown:t.adsRoll}},[t._v("\n        "+t._s(t.rollButtonMessage)+"\n      ")])]),t._v(" "),n("div",{staticClass:"settings block",class:{hidden:!t.showSettings}},[n("div",[t._v("\n        Reset game "),n("button",{staticClass:"danger",on:{click:t.confirmReset}},[t._v("RESET")])]),t._v(" "),n("div",[t._v("\n        Adjustments "),n("button",{class:{success:t.adjustments,info:!t.adjustments},on:{click:function(e){t.askForReset()&&(t.adjustments=!t.adjustments)}}},[t._v(t._s(t.adjustments?"ON":"OFF"))])]),t._v(" "),n("div",[t._v("\n        Players count "),n("button",{staticClass:"info",on:{click:t.incPlayersCount}},[t._v(t._s(t.playersCount))])])])])])},i=[],r={render:s,staticRenderFns:i};e.a=r},83:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("main",[n("Game")],1)])},i=[],r={render:s,staticRenderFns:i};e.a=r}},[34]);
//# sourceMappingURL=app.6ab5c0996e29ed94485f.js.map